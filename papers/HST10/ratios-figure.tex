\documentclass{article}
\usepackage{fullpage}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{siunitx}
\usepackage{graphicx}
\setcounter{secnumdepth}{0}

\newcommand\Ion[2]{\ensuremath{\mathrm{#1\,\scriptstyle #2}}}
\newcounter{ionstage}
\newcommand{\ion}[2]{% replace the aastex version
  \setcounter{ionstage}{#2}%
  \Ion{#1}{\Roman{ionstage}}}

% \usepgfplotslibrary{external}
% \tikzset{external/force remake}
% \tikzexternalize

\pgfplotsset{
  compat=1.5.1, % most current version as of writing (27 Jan 2012)
  % compat=newest, % select to always use latest version (may cause minor appearance changes)
  width=\textwidth,
  every axis legend/.append style={
    % make legend less tightly packed
    inner xsep=0.5em,
    inner ysep=3pt,
    nodes={
      inner xsep=1em,
      text depth=0.25em
    },
  },
}
\pgfplotsset{}
\newcommand\RatioPlot[1]{
\begin{tikzpicture}
  \begin{loglogaxis}[
    xlabel={Observed Intensity, \(100 \times I(\lambda)/I(\mathrm{H}\beta)\)}, 
    ylabel={Model Intensity, \(100 \times I(\lambda)/I(\mathrm{H}\beta)\)},
    log ticks with fixed point,
    legend columns=3,
    legend pos=north west,
    % transpose legend,
    ]
    \addplot [
    scatter/classes={
      H1={mark=*,brown},% 
      He1={mark=*,green},% 
      C2={mark=triangle*,black},%  
      N2={mark=triangle*,cyan},% 
      O1={mark=*,orange},% 
      O3={mark=square*,orange},%
      Ne3={mark=square*,blue},%
      S2={mark=triangle*,red},% 
      S3={mark=square*,red},% 
      Ar3={mark=square*,magenta},%
      Fe3={mark=square*,yellow}%
    },
    only marks, scatter, 
    scatter src=explicit symbolic,
    point meta=explicit symbolic,
    nodes near coords*={\scriptsize\pgfmathprintnumber[set thousands separator={}]\LAMBDA\,\AA},
    visualization depends on={\thisrow{Lambda} \as \LAMBDA},
    nodes near coords align=\ALIGN,
    visualization depends on={value\thisrow{Align} \as \ALIGN},    
    error bars/x dir=both,
    error bars/x explicit,
    error bars/y dir=none,
    ] table [
    x=Cusp, 
    y=Model#1, 
    x error=CIns,
    meta=ID
    ] {HST-10models.dat};
    \addlegendentry{\ion{H}{1}} 
    \addlegendentry{\ion{He}{1}} 
    \addlegendentry{\ion{C}{2}} 
    \addlegendentry{[\ion{N}{2}]} 
    \addlegendentry{[\ion{O}{1}]}
    \addlegendentry{[\ion{O}{3}]}
    \addlegendentry{[\ion{Ne}{3}]}
    \addlegendentry{[\ion{S}{2}]}
    \addlegendentry{[\ion{S}{3}]}
    \addlegendentry{[\ion{Ar}{3}]}
    \addlegendentry{[\ion{Fe}{3}]}
    \addplot [gray,domain=0.08:300] {x};
  \end{loglogaxis}
\end{tikzpicture}
}

\begin{document} 


\section{Model A: Baseline model}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set] Cloudy Orion
\end{description}
\bigskip
\RatioPlot{A}

\newpage 

\section{Model B: Esteban Set}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set] Esteban et al.\@ (2004), M42, \(t^2 = 0.002\)
\end{description}
\bigskip
\RatioPlot{B}

\newpage 

\section{Model C:  Tsamis for LV2}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set] Tsamis et al.\@ (2011), LV2
\end{description}
\bigskip
\RatioPlot{C}

\newpage 

\section{Model D: Tsamis HST10 preliminary}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set] 
\end{description}
\bigskip
\RatioPlot{D}

\newpage  

\section{Model E: Tsamis HST10 new1}
\begin{description}
\item[Spectrum] Tlusty, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set]
\end{description}
\bigskip
\RatioPlot{E}

\newpage 

\section{Model F: Tsamis HST10 new2}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set] 
\end{description}
\bigskip
\RatioPlot{F}
\newpage 

\section{Model G: ZZ03}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set]
\end{description}
\bigskip
\RatioPlot{G}
\newpage

\section{Model H: Baseline model}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set] Cloudy Orion
\end{description}
\bigskip
\RatioPlot{H}

\newpage 

\section{Model I: Esteban Set}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set] Esteban et al.\@ (2004), M42, \(t^2 = 0.002\)
\end{description}
\bigskip
\RatioPlot{I}

\newpage 

\section{Model J:  Tsamis for LV2}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set] Tsamis et al.\@ (2011), LV2
\end{description}
\bigskip
\RatioPlot{J}

\newpage 

\section{Model K: Tsamis HST10 preliminary}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set] 
\end{description}
\bigskip
\RatioPlot{K}

\newpage  

\section{Model L: Tsamis HST10 new1}
\begin{description}
\item[Spectrum] Tlusty, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set]
\end{description}
\bigskip
\RatioPlot{L}

\newpage 

\section{Model M: Tsamis HST10 new2}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set] 
\end{description}
\bigskip
\RatioPlot{M}
\newpage 

\section{Model N: ZZ03}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.30\)
\item[Abundance set]
\end{description}
\bigskip
\RatioPlot{N}
\newpage

\section{Model O: Orion total}
\begin{description}
\item[Spectrum] WMBasic, \SI{39000}{K}
\item[Flux] \(\log_{10} \Phi = 12.10\)
\item[Abundance set]
\end{description}
\bigskip
\RatioPlot{O}
\newpage

% The marker for [\ion{Ne}{3}] is \ref{marker:Ne3}

\end{document}
